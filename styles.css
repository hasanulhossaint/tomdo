:root{
  /* Dark */
  --bg:#0f1216;
  --panel:rgba(255,255,255,0.06);
  --card:rgba(255,255,255,0.08);
  --text:#eef1f5;
  --muted:#a7b0be;
  --accent:#74d4ff;
  --border:rgba(255,255,255,0.12);

  /* Light */
  --bg-l:#f7f8fb;
  --panel-l:#ffffff;
  --card-l:#ffffff;
  --text-l:#14181f;
  --muted-l:#5f6b7b;
  --border-l:rgba(0,0,0,0.08);

  --r:14px;
  --t:.25s cubic-bezier(.2,.6,.2,1);
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter,system-ui,sans-serif;
  color:var(--text); background:radial-gradient(1200px 600px at 10% -10%,#13202e,transparent), var(--bg);
  transition:background var(--t), color var(--t);
}
body.light-theme{
  color:var(--text-l);
  background:radial-gradient(1200px 600px at 10% -10%,#e7f6ff,transparent), var(--bg-l);
}

/* Header */
.app-header{
  position:sticky; top:0; z-index:20;
  display:flex; align-items:center; gap:12px;
  padding:12px 16px; backdrop-filter:blur(10px);
  background:color-mix(in oklab, var(--panel) 70%, transparent);
  border-bottom:1px solid var(--border);
}
body.light-theme .app-header{ background:var(--panel-l); border-bottom:1px solid var(--border-l); }

.logo{display:flex;align-items:center;gap:8px}
.logo-icon{width:28px;height:28px;stroke:var(--accent)}
.logo-text{font-weight:700;letter-spacing:.5px}

.header-center{flex:1;display:flex;justify-content:center}
.search-wrap{width:min(680px,100%);padding:0 8px}
.search-wrap input{
  width:100%; padding:10px 14px; border:none; outline:none;
  border-radius:999px; background:var(--card); color:inherit;
  transition: box-shadow var(--t), background var(--t), transform var(--t);
  box-shadow:0 0 0 0 rgba(0,0,0,0);
}
.search-wrap input:focus{
  transform:translateY(-1px);
  box-shadow:0 8px 24px rgba(0,0,0,.25);
}
body.light-theme .search-wrap input{ background:var(--card-l); border:1px solid var(--border-l) }

.header-actions{display:flex; gap:8px}
.header-actions .ghost{
  background:transparent; color:inherit; border:1px solid var(--border);
  padding:8px 12px; border-radius:999px; cursor:pointer; transition:opacity var(--t), border var(--t);
}
.header-actions .ghost:hover{opacity:.85}
body.light-theme .header-actions .ghost{ border:1px solid var(--border-l) }

/* Theme toggle pill */
.toggle{
  border:none; cursor:pointer; border-radius:999px;
  padding:8px 10px; background:var(--accent); color:#001018; font-weight:700;
  transition: transform var(--t), filter var(--t);
}
.toggle:hover{ transform:translateY(-1px); filter:brightness(1.05) }

/* Board: swipeable on mobile */
.board{
  display:grid; grid-template-columns:repeat(3, minmax(320px,1fr));
  gap:18px; padding:18px; align-items:start;
}
@media (max-width: 1024px){
  .board{ grid-template-columns:repeat(3, 340px); overflow-x:auto; scroll-snap-type:x mandatory; }
  .column{ scroll-snap-align:start }
}
@media (max-width: 480px){
  .board{ grid-template-columns:repeat(3, 88vw); gap:14px; padding:14px }
}

/* Column */
.column{
  background:var(--panel); border:1px solid var(--border); border-radius:var(--r);
  min-height:60vh; display:flex; flex-direction:column; backdrop-filter:blur(10px);
  box-shadow:0 8px 30px rgba(0,0,0,.18);
}
body.light-theme .column{ background:var(--panel-l); border:1px solid var(--border-l); box-shadow:0 8px 22px rgba(0,0,0,.06) }

.column-head{
  position:sticky; top:0; backdrop-filter:blur(8px);
  padding:12px 14px; border-bottom:1px solid color-mix(in oklab, var(--border) 70%, transparent);
}
.column-head h2{ margin:0; font-size:14px; letter-spacing:.4px; text-transform:uppercase; opacity:.9 }

/* Tasks */
.task-list{ list-style:none; margin:0; padding:12px; display:flex; flex-direction:column; gap:12px; flex:1 }

.task{
  background:var(--card); border:1px solid color-mix(in oklab, var(--border) 70%, transparent);
  border-radius:12px; padding:12px; cursor:grab; user-select:none;
  box-shadow:0 6px 16px rgba(0,0,0,.18);
  transition: transform .14s ease, box-shadow .14s ease, border-color var(--t);
}
.task:hover{ transform:translateY(-2px); box-shadow:0 10px 26px rgba(0,0,0,.24) }
body.light-theme .task{ background:var(--card-l); border:1px solid var(--border-l); box-shadow:0 8px 18px rgba(0,0,0,.06) }

.task-header{ display:flex; align-items:center; gap:8px }
.task-title{ font-weight:600; flex:1 }
.task-desc{ margin-top:4px; font-size:13px; color:var(--muted) }
body.light-theme .task-desc{ color:var(--muted-l) }

.task-tags{ display:flex; flex-wrap:wrap; gap:6px; margin-top:6px }
.tag{
  background:var(--accent); color:#001018; font-size:11px; font-weight:700;
  padding:2px 8px; border-radius:999px;
}

/* Inline add form (desktop/tablet). Hidden on small screens. */
.add-task-form{ display:flex; flex-direction:column; gap:8px; padding:12px; border-top:1px dashed color-mix(in oklab, var(--border) 60%, transparent) }
.add-task-form input, .add-task-form textarea{
  background:var(--card); border:1px solid color-mix(in oklab, var(--border) 70%, transparent); color:inherit;
  border-radius:10px; padding:10px; outline:none; transition:border var(--t), box-shadow var(--t);
}
.add-task-form input:focus, .add-task-form textarea:focus{ box-shadow:0 8px 20px rgba(0,0,0,.2) }
.add-task-form button{
  align-self:flex-end; border:none; background:var(--accent); color:#001018; font-weight:700;
  padding:10px 14px; border-radius:10px; cursor:pointer; transition:transform var(--t), filter var(--t);
}
.add-task-form button:hover{ transform:translateY(-1px); filter:brightness(1.05) }

@media (max-width: 640px){
  .add-task-form{ display:none } /* use bottom sheet on mobile */
}

/* Modal (Edit) */
.modal{
  padding:0; border:none; border-radius:16px; background:var(--panel);
  color:inherit; max-width:480px; width:calc(100% - 28px);
  box-shadow:0 24px 60px rgba(0,0,0,.45); backdrop-filter:blur(12px);
}
body.light-theme .modal{ background:var(--panel-l) }
.modal-form{ padding:18px; display:flex; flex-direction:column; gap:10px }
.modal-form input, .modal-form textarea{
  background:var(--card); border:1px solid color-mix(in oklab, var(--border) 70%, transparent);
  color:inherit; border-radius:10px; padding:10px;
}
.modal-buttons{ display:flex; gap:8px; justify-content:space-between; margin-top:6px }
.primary{ background:var(--accent); color:#001018; border:none; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer }
.danger{ background:#ff4d4f; color:#fff; border:none; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer }
.ghost{ background:transparent; border:1px solid var(--border); color:inherit; padding:10px 14px; border-radius:10px; cursor:pointer }
body.light-theme .ghost{ border-color:var(--border-l) }

/* FAB (mobile) */
.fab{
  position:fixed; right:16px; bottom:16px; z-index:25;
  width:56px; height:56px; border-radius:50%; border:none; cursor:pointer;
  background:linear-gradient(180deg, var(--accent), #5fd7ff);
  color:#001018; font-size:28px; font-weight:800; line-height:0;
  box-shadow:0 12px 30px rgba(0,0,0,.35);
  display:flex; align-items:center; justify-content:center;
  transition: transform var(--t), box-shadow var(--t);
}
.fab:hover{ transform:translateY(-2px); box-shadow:0 16px 36px rgba(0,0,0,.45) }
@media (min-width: 641px){ .fab{ display:none } }

/* Bottom Sheet (mobile new task) */
.sheet{
  margin:0; padding:0; border:none; width:100%; max-width:none; color:inherit;
  background:var(--panel); position:fixed; left:0; right:0; bottom:0;
  border-top-left-radius:16px; border-top-right-radius:16px; backdrop-filter:blur(12px);
  animation:slideUp .25s ease;
}
body.light-theme .sheet{ background:var(--panel-l) }
@keyframes slideUp{ from{ transform:translateY(100%) } to{ transform:translateY(0) } }

.sheet-form{ padding:16px; display:flex; flex-direction:column; gap:10px }
.sheet-grabber{
  width:46px; height:5px; border-radius:999px; background:color-mix(in oklab, var(--muted) 45%, transparent);
  margin:8px auto 4px;
}
.sheet-form input, .sheet-form textarea, .sheet-form select{
  background:var(--card); border:1px solid color-mix(in oklab, var(--border) 70%, transparent); color:inherit;
  border-radius:10px; padding:10px;
}
.sheet-buttons{ display:flex; gap:10px; justify-content:flex-end; margin-top:4px }

/* Footer */
.app-footer{ text-align:center; padding:14px; color:var(--muted) }
body.light-theme .app-footer{ color:var(--muted-l) }
